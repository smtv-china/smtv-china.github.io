<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>IPTV ‰∏ì‰∏öÁõ¥Êí≠Á≥ªÁªü</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
body{margin:0;background:#000;font-family:system-ui}
header{color:#fff;text-align:center;padding:10px;font-size:16px;background:#111}
video{width:100%;height:calc(100vh - 110px);background:#000}
select{width:100%;padding:10px;font-size:16px;border:none}
.status{color:#0f0;text-align:center;font-size:13px;padding:5px}
</style>
</head>

<body>

<header>üì∫ IPTV ‰∏ì‰∏öÁΩëÈ°µÁâàÁõ¥Êí≠Á≥ªÁªü</header>

<select id="channel"></select>

<div class="status" id="status">ÂàùÂßãÂåñÊí≠ÊîæÂô®...</div>

<video id="video" controls autoplay muted playsinline></video>

<script>
const channels = {
  "MAX": [
    "http://wahoo.lilyessence.com/live/max_1080p_200K/index.m3u8",
    "http://go.fastl.io/live/max_1080p_200K/index.m3u8",
    "http://yng.beauty.is/live/max_1080p_200K/index.m3u8",
    "http://sky2.coopfire.com/live/max_1080p_200K/index.m3u8",
    "http://mobile2.ecosys.gr/live/max_1080p_200K/index.m3u8",
    "http://fly2.skyidea.com/live/max_1080p_200K/index.m3u8",
    "http://db2.quicklyita.com/live/max_1080p_200K/index.m3u8",
    "http://eye.blinklab.com/live/max_1080p_200K/index.m3u8",
    "http://run.lightn.org/live/max_1080p_200K/index.m3u8",
    "http://xman.magento-spain.com/live/max_1080p_200K/index.m3u8",
    "http://star.galaxysoft.ro/live/max_1080p_200K/index.m3u8",
    "http://health2.veggiefit.ro/live/max_1080p_200K/index.m3u8",
    "http://center.truecircle.com/live/max_1080p_200K/index.m3u8",
    "http://think2.adevar.net/live/max_1080p_200K/index.m3u8",
    "http://lock2.goldenkey.sg/live/max_1080p_200K/index.m3u8",
    "http://my.beauty.is/live/max_1080p_200K/index.m3u8",
    "http://milkyway2.galaxysoft.ro/live/max_1080p_200K/index.m3u8",
    "http://360.flightgear.ru/live/max_1080p_200K/index.m3u8"
  ],

  "Live": [
    "http://go.fastl.io:61230/live/ytdl_720p_2500K/index.m3u8",
    "http://wahoo.lilyessence.com:61235/live/ytdl_720p_2500K/index.m3u8",
    "http://yng.beauty.is:61235/live/ytdl_720p_2500K/index.m3u8",
    "http://xman.magento-spain.com:64915/live/ytdl_720p_2500K/index.m3u8",
    "http://mobile2.ecosys.gr:64913/live/ytdl_720p_2500K/index.m3u8",
    "http://star.galaxysoft.ro:60015/live/ytdl_720p_2500K/index.m3u8",
    "http://health2.veggiefit.ro:61940/live/ytdl_720p_2500K/index.m3u8",
    "http://fly2.skyidea.com:61233/live/ytdl_720p_2500K/index.m3u8",
    "http://center.truecircle.com:61938/live/ytdl_720p_2500K/index.m3u8",
    "http://think2.adevar.net:60008/live/ytdl_720p_2500K/index.m3u8",
    "http://eye.blinklab.com:60011/live/ytdl_720p_2500K/index.m3u8",
    "http://lock2.goldenkey.sg:62634/live/ytdl_720p_2500K/index.m3u8"
  ]
};

const video = document.getElementById("video");
const select = document.getElementById("channel");
const status = document.getElementById("status");
let hls;
let idx = 0;
let urls = [];

for (let c in channels){
  let opt = document.createElement("option");
  opt.value = c;
  opt.text = c;
  select.appendChild(opt);
}

function play(url){
  if(hls) hls.destroy();
  hls = new Hls({ maxBufferLength:30 });
  hls.loadSource(url);
  hls.attachMedia(video);
  status.innerText = "Êí≠Êîæ‰∏≠Ôºö" + url;
  hls.on(Hls.Events.ERROR, function(){
    idx++;
    if(idx < urls.length){
      play(urls[idx]);
    } else {
      status.innerText = "‚ùå ÂÖ®ÈÉ®Á∫øË∑ØÊó†Ê≥ïËøûÊé•";
    }
  });
}

function loadChannel(name){
  urls = channels[name];
  idx = 0;
  play(urls[0]);
}

select.onchange = () => loadChannel(select.value);

loadChannel("MAX");
</script>

</body>
</html>